<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reyna's Learning Dashboard - 02/03</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="dashboard.css">
    <style>
        /* --- 沿用之前的樣式 --- */
        pre {
            background-color: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 8px;
            overflow-x: auto;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9rem;
            margin-top: 10px;
            white-space: pre-wrap;
            line-height: 1.6;
        }
        /* Python Syntax Highlighting */
        .code-keyword { color: #f92672; font-weight: bold; }
        .code-func { color: #66d9ef; }
        .code-string { color: #e6db74; }
        .code-class { color: #a6e22e; }
        .code-comment { color: #75715e; font-style: italic; }
        .code-num { color: #ae81ff; }
        
        .alert-box {
            background-color: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 10px;
            color: #856404;
            margin: 10px 0;
            font-size: 0.9rem;
        }

        .danger-box {
            background-color: #f8d7da;
            border-left: 4px solid #dc3545;
            padding: 10px;
            color: #721c24;
            margin: 10px 0;
            font-size: 0.9rem;
        }

        /* --- 表格樣式 --- */
        .concept-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
        }
        .concept-table th, .concept-table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        .concept-table th {
            background-color: #f4f4f4;
            color: #333;
            font-weight: bold;
        }
        
        /* --- 實作圖片樣式 --- */
        .practice-img {
            width: 100%;
            max-width: 600px;
            border-radius: 8px;
            border: 1px solid #ddd;
            margin: 10px 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        /* --- 排版系統 --- */
        .grid-2-cols { display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; align-items: start; }
        
        @media (max-width: 768px) {
            .grid-2-cols { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

    <button class="mobile-toggle" onclick="toggleSidebar()">
        <i class="fas fa-bars"></i>
    </button>

    <div class="overlay" onclick="toggleSidebar()"></div>

    <nav class="sidebar">
        <div class="sidebar-header">
            <h2>Reyna Portfolio</h2>
            <span>Web Design Practice</span>
        </div>

        <div class="menu-group">
            <div class="group-title">Week 1: 基礎導入</div>
            <ul>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/1222.html"><span class="date-badge"><i class="far fa-calendar"></i> 12/22 (一)</span><span class="topic">電腦基礎概論</span></a></li>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/1223_1.html"><span class="date-badge"><i class="far fa-calendar"></i> 12/23 (二) am</span><span class="topic">IT Career 職涯解析</span></a></li>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/1223_2.html"><span class="date-badge"><i class="far fa-calendar"></i> 12/23 (二) pm</span><span class="topic">ESP-01S 與 Arduino</span></a></li>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/1224_1.html"><span class="date-badge"><i class="far fa-calendar"></i> 12/24 (三) am</span><span class="topic">IoT 與 Web Server 實作</span></a></li>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/1224_2.html"><span class="date-badge"><i class="far fa-calendar"></i> 12/24 (三) pm</span><span class="topic">Linux 系統與應用</span></a></li>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/1226.html"><span class="date-badge"><i class="far fa-calendar"></i> 12/26 (五)</span><span class="topic">Linux基礎到架站</span></a></li>
            </ul>
        </div>

        <div class="menu-group">
            <div class="group-title">Week 2: 深入實作</div>
            <ul>
                 <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/1229.html"><span class="date-badge"><i class="far fa-calendar"></i> 12/29 (一)</span><span class="topic">電腦基礎概論 II</span></a></li>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/1230.html"><span class="date-badge"><i class="far fa-calendar"></i> 12/30 (二)</span><span class="topic">NoCode 資料蒐集與自動化</span></a></li>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/1231.html"><span class="date-badge"><i class="far fa-calendar"></i> 12/31 (三)</span><span class="topic">Linux 資料庫建置</span></a></li>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/0102.html"><span class="date-badge"><i class="far fa-calendar"></i> 1/2 (五)</span><span class="topic">Linux 系統管理與腳本</span></a></li>
            </ul>
        </div>
        
        <div class="menu-group">
            <div class="group-title">Week 3: 資料庫與 Python</div>
            <ul>
                <li><a href="#"><span class="date-badge"><i class="far fa-calendar"></i> 1/5 (一)</span><span class="topic">計算機概論 (待補)</span></a></li>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/0106.html"><span class="date-badge"><i class="far fa-calendar"></i> 1/6 (二)</span><span class="topic">MySQL 安裝與 SSH 穿隧</span></a></li>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/0107.html"><span class="date-badge"><i class="far fa-calendar"></i> 1/7 (三)</span><span class="topic">MySQL 管理與 VS Code</span></a></li>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/0108.html"><span class="date-badge"><i class="far fa-calendar"></i> 1/8 (四)</span><span class="topic">Python 基礎與環境</span></a></li>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/0109.html"><span class="date-badge"><i class="far fa-calendar"></i> 1/9 (五)</span><span class="topic">Python 進階與資料處理</span></a></li>
            </ul>
        </div>

        <div class="menu-group">
            <div class="group-title">Week 4: Python 與 SQL</div>
            <ul>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/0112.html"><span class="date-badge"><i class="far fa-calendar"></i> 1/12 (一)</span><span class="topic">Python 函數與異常處理</span></a></li>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/0113.html"><span class="date-badge"><i class="far fa-calendar"></i> 1/13 (二)</span><span class="topic">OOP 與 記憶體管理</span></a></li>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/0114.html"><span class="date-badge"><i class="far fa-calendar"></i> 1/14 (三)</span><span class="topic">MySQL 語法與資料操作</span></a></li>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/0115.html"><span class="date-badge"><i class="far fa-calendar"></i> 1/15 (四)</span><span class="topic">MySQL 進階查詢與實作</span></a></li>
            </ul>
        </div>

        <div class="menu-group">
            <div class="group-title">Week 5: 商業智慧與網頁基礎</div>
            <ul>
                <li>
                    <a href="https://ruinuo217.github.io/Portfolio/ai-data-course/0120.html">
                        <span class="date-badge"><i class="far fa-calendar"></i> 1/20 (二) </span>
                        <span class="topic">Tableau 基礎與視覺化</span>
                    </a>
                </li>
                <li>
                    <a href="https://ruinuo217.github.io/Portfolio/ai-data-course/0121.html">
                        <span class="date-badge"><i class="far fa-calendar"></i> 1/21 (三) </span>
                        <span class="topic">Tableau 進階分析</span>
                    </a>
                </li>
                <li>
                    <a href="https://ruinuo217.github.io/Portfolio/ai-data-course/0122.html">
                        <span class="date-badge"><i class="far fa-calendar"></i> 1/22 (四) </span>
                        <span class="topic">HTML 基礎與表單設計</span>
                    </a>
                </li>
                <li>
                    <a href="https://ruinuo217.github.io/Portfolio/ai-data-course/0123.html">
                        <span class="date-badge"><i class="far fa-calendar"></i> 1/23 (五) </span>
                        <span class="topic">CSS 樣式設計全攻略</span>
                    </a>
                </li>
            </ul>
        </div>

        <div class="menu-group">
            <div class="group-title">Week 6: 網路爬蟲與資料擷取</div>
            <ul>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/0126.html"><span class="date-badge"><i class="far fa-calendar"></i> 1/26 (一) </span><span class="topic">網路爬蟲基礎與 requests</span></a></li>
                <li><a href="https://ruinuo217.github.io/Portfolio/ai-data-course/0127.html"><span class="date-badge"><i class="far fa-calendar"></i> 1/27 (二) </span><span class="topic">Selenium 動態爬蟲</span></a></li>
            </ul>
        </div>

        <div class="menu-group">
            <div class="group-title">Week 7: 資料分析與 Pandas</div>
            <ul>
                <li><a href="0202.html"><span class="date-badge"><i class="far fa-calendar"></i> 2/2 (一) </span><span class="topic">Pandas 基礎與資料結構</span></a></li>
                <li class="active">
                    <a href="0203.html">
                        <span class="date-badge"><i class="far fa-calendar"></i> 2/3 (二) </span>
                        <span class="topic">Pandas 進階與 NumPy 基礎</span>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

   <main class="main-content">
     
        <div class="top-bar">
            <div class="breadcrumb">
                首頁 > Week 7 > <span>Pandas 進階與 NumPy 基礎</span>
            </div>
            <a href="https://ruinuo217.github.io/Portfolio/" class="btn-nav" style="text-decoration: none;">
                <i class="fas fa-home"></i> 回首頁
            </a>
        </div>
        
        <div class="banner" style="background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%);">
            <div>
                <h1>Pandas 清洗與 NumPy 核心</h1>
                <p>資料驗證、型態修正、行為分析，以及高效能數值運算的核心 ndarray。</p>
            </div>
            <i class="fa-solid fa-layer-group banner-icon"></i>
        </div>

        <h3 class="section-title">Part 1: Pandas 進階清洗 (Advanced Cleaning)</h3>
        <div class="dashboard-grid notes-section">
            <div class="card note-card">
                <div class="note-header">
                    <h4><i class="fa-solid fa-wrench"></i> 型態修正 (astype)</h4>
                    <span class="status-badge important">修正</span>
                </div>
                <p class="note-desc">AI 模型不吃字串 (Object)，必須轉為數值。</p>
                <pre><code><span class="code-comment"># 錯誤： "1" + 1 -> Error</span>
<span class="code-comment"># 正確： 轉型後再運算</span>
df[<span class="code-string">"value"</span>] = df[<span class="code-string">"value"</span>].<span class="code-func">astype</span>(<span class="code-class">int</span>)</code></pre>
                <div class="danger-box">
                    <strong>注意：</strong> 轉型前必須先處理完缺值 (NaN)，否則 <code>astype(int)</code> 會報錯。
                </div>
            </div>

            <div class="card note-card">
                <div class="note-header">
                    <h4><i class="fa-solid fa-clone"></i> 重複資料 (Duplicated)</h4>
                    <span class="status-badge running">清洗</span>
                </div>
                <p class="note-desc">一列 = 一個事件。重複的列會導致統計偏差。</p>
                <pre><code><span class="code-comment"># 標記重複 (回傳 True/False)</span>
df.<span class="code-func">duplicated</span>()

<span class="code-comment"># 刪除重複 (保留第一筆)</span>
df_clean = df.<span class="code-func">drop_duplicates</span>()</code></pre>
            </div>
        </div>

        <h3 class="section-title">Part 2: 行為分析與驗證 (Behavior & Validation)</h3>
        <div class="dashboard-grid notes-section">
            <div class="card note-card">
                <div class="note-header">
                    <h4><i class="fa-solid fa-arrow-trend-up"></i> 從事件到行為</h4>
                    <span class="status-badge advanced">分析</span>
                </div>
                <p class="note-desc">單一事件沒有意義，<strong>順序</strong>與<strong>間隔</strong>才是行為。</p>
                <pre><code><span class="code-comment"># 前一個事件 (Shift)</span>
df[<span class="code-string">"prev"</span>] = df[<span class="code-string">"event"</span>].<span class="code-func">shift</span>(<span class="code-num">1</span>)

<span class="code-comment"># 與前一次的時間差 (Diff)</span>
df[<span class="code-string">"delta"</span>] = df[<span class="code-string">"timestamp"</span>].<span class="code-func">diff</span>()</code></pre>
            </div>
            
            <div class="card note-card">
                <div class="note-header">
                    <h4><i class="fa-solid fa-font"></i> 字串正規化</h4>
                    <span class="status-badge running">清洗</span>
                </div>
                <p>避免 <code>Login</code>, <code>login</code>, <code>LOGIN</code> 被視為不同事件。</p>
                <pre><code>df[<span class="code-string">"event"</span>] = df[<span class="code-string">"event"</span>].str.<span class="code-func">lower</span>()
df[<span class="code-string">"event"</span>] = df[<span class="code-string">"event"</span>].str.<span class="code-func">replace</span>(<span class="code-string">"-"</span>, <span class="code-string">""</span>)</code></pre>
            </div>

            <div class="card note-card" style="grid-column: 1 / -1;">
                <div class="note-header">
                    <h4><i class="fa-solid fa-shield-halved"></i> 資料驗證 (Validation)</h4>
                    <span class="status-badge important">防線</span>
                </div>
                <p class="note-desc">AI 上線前的最後一道防線：欄位、型態、數值合理性。</p>
                <div class="grid-2-cols">
                    <ul>
                        <li><strong>Schema Check:</strong> 欄位有沒有少？</li>
                        <li><strong>Type Check:</strong> <code>timestamp</code> 是不是 datetime？</li>
                        <li><strong>Value Check:</strong> 數值有沒有負數？Event 是否在白名單內？</li>
                    </ul>
                    <pre><code><span class="code-keyword">if</span> (df[<span class="code-string">"value"</span>] < <span class="code-num">0</span>).<span class="code-func">any</span>():
    <span class="code-func">print</span>(<span class="code-string">"警報：發現負數！"</span>)</code></pre>
                </div>
            </div>
        </div>

        <h3 class="section-title">Part 3: NumPy 核心基礎 (NumPy Core)</h3>
        <div class="dashboard-grid notes-section">
            <div class="card note-card" style="grid-column: 1 / -1;">
                <div class="note-header">
                    <h4><i class="fa-solid fa-cube"></i> ndarray 多維陣列</h4>
                    <span class="status-badge important">核心</span>
                </div>
                <p class="note-desc">NumPy 是 Python 資料分析的引擎，pandas 的底層。它使用 <strong>向量化運算</strong> 取代 for-loop。</p>
                
                <table class="concept-table">
                    <tr><th>建立方式</th><th>語法</th><th>用途</th></tr>
                    <tr><td>列表轉換</td><td><code>np.array([1, 2, 3])</code></td><td>基本建立。</td></tr>
                    <tr><td>全零/全一</td><td><code>np.zeros((2,2))</code> / <code>np.ones()</code></td><td>初始化矩陣。</td></tr>
                    <tr><td>範圍序列</td><td><code>np.arange(0, 10, 2)</code></td><td>整數序列 (類似 range)。</td></tr>
                    <tr><td>線性切分</td><td><code>np.linspace(0, 1, 10)</code></td><td>固定區間取樣 (圖表/參數)。</td></tr>
                    <tr><td>指數切分</td><td><code>np.logspace(0, 2, 10)</code></td><td>模擬指數成長 (風險/病毒)。</td></tr>
                </table>
            </div>

            <div class="card note-card">
                <div class="note-header">
                    <h4><i class="fa-solid fa-shuffle"></i> 隨機與亂數 (Random)</h4>
                </div>
                <ul class="step-list">
                    <li><code>np.random.seed(42)</code>: <strong>重要！</strong>確保實驗可重現。</li>
                    <li><code>np.random.shuffle(arr)</code>: 打亂順序 (模擬非同步)。</li>
                    <li><code>np.random.normal()</code>: 常態分佈 (模擬誤差)。</li>
                </ul>
            </div>

            <div class="card note-card">
                <div class="note-header">
                    <h4><i class="fa-solid fa-magnifying-glass"></i> 索引與篩選 (Indexing)</h4>
                </div>
                <p class="note-desc">不要用 for-loop 找資料！</p>
                <pre><code><span class="code-comment"># Boolean Indexing (條件篩選)</span>
high_risk = data[data > <span class="code-num">0.8</span>]

<span class="code-comment"># ROI Indexing (區域切片)</span>
roi = grid[<span class="code-num">0</span>:<span class="code-num">2</span>, <span class="code-num">0</span>:<span class="code-num">2</span>]</code></pre>
            </div>
        </div>

        <h3 class="section-title">Part 4: Reyna's Workshop 實作紀錄</h3>
        <div class="dashboard-grid notes-section">
            
            <div class="card note-card">
                <div class="note-header">
                    <h4><i class="fa-solid fa-code"></i> 練習 01: astype 型態修正</h4>
                </div>
                <p class="note-desc">將字串型態的數值欄位轉換為整數。</p>
                <img src="https://hackmd.io/_uploads/ByfkoC0IWx.png" alt="astype" class="practice-img">
                <pre><code>df[<span class="code-string">"value"</span>] = df[<span class="code-string">"value"</span>].<span class="code-func">astype</span>(<span class="code-class">int</span>)</code></pre>
            </div>

            <div class="card note-card">
                <div class="note-header">
                    <h4><i class="fa-solid fa-code"></i> 練習 02: 重複資料處理</h4>
                </div>
                <p class="note-desc">找出並移除重複的事件紀錄。</p>
                <img src="https://hackmd.io/_uploads/ryPecC0IZg.png" alt="duplicated" class="practice-img">
                <pre><code><span class="code-func">print</span>(df.<span class="code-func">drop_duplicates</span>())</code></pre>
            </div>

            <div class="card note-card">
                <div class="note-header">
                    <h4><i class="fa-solid fa-code"></i> 練習 03: NumPy 安裝與 ndmin</h4>
                </div>
                <p class="note-desc">Ubuntu LTS (Server) 安裝指令與測試，並指定 ndarray 最小維度。</p>
                
                <div class="alert-box" style="margin-bottom: 10px;">
                    Ubuntu LTS（Server）: <code>pip3 install numpy</code><br>
                    測試是否安裝成功
                </div>

                <img src="https://hackmd.io/_uploads/H1nka0AU-x.png" alt="numpy install" class="practice-img">
                <pre><code><span class="code-keyword">import</span> numpy <span class="code-keyword">as</span> np

arr = np.<span class="code-func">array</span>([<span class="code-num">1</span>, <span class="code-num">2</span>, <span class="code-num">3</span>, <span class="code-num">4</span>], ndmin=<span class="code-num">5</span>)
<span class="code-func">print</span>(arr)
<span class="code-func">print</span>(<span class="code-string">'number of dimensions:'</span>, arr.ndim)</code></pre>
            </div>

            <div class="card note-card">
                <div class="note-header">
                    <h4><i class="fa-solid fa-code"></i> 練習 04: 讀取 CSV 轉 ndarray</h4>
                </div>
                <p class="note-desc">模擬將產品良率資料載入為 NumPy Array。</p>
                <img src="https://hackmd.io/_uploads/By44PWyv-e.png" alt="loadtxt" class="practice-img">
                <pre><code>data = np.<span class="code-func">loadtxt</span>(<span class="code-string">"product_quality.csv"</span>, delimiter=<span class="code-string">","</span>, skiprows=<span class="code-num">1</span>)</code></pre>
            </div>

            <div class="card note-card" style="grid-column: 1 / -1;">
                <div class="note-header">
                    <h4><i class="fa-solid fa-code"></i> 練習 05 & 06: dtype 影響與混合型態</h4>
                </div>
                <div class="grid-2-cols">
                    <div>
                        <p class="note-desc">比較 int32 與 float64 對精度的影響 (截斷問題)。</p>
                        <img src="https://hackmd.io/_uploads/By4TUMJD-x.png" alt="dtype comparison" class="practice-img">
                    </div>
                    <div>
                        <p class="note-desc">觀察 NumPy 如何處理混合型態 (升級為 Unicode)。</p>
                        <img src="https://hackmd.io/_uploads/r1aJgmyvbe.png" alt="mixed types" class="practice-img">
                    </div>
                </div>
            </div>

            <div class="card note-card" style="grid-column: 1 / -1;">
                <div class="note-header">
                    <h4><i class="fa-solid fa-code"></i> 練習 07 & 08: 資料生成 (arange, linspace)</h4>
                </div>
                <div class="grid-2-cols">
                    <div>
                        <p class="note-desc">比較 arange, linspace, logspace 的基本用法。</p>
                        <img src="https://hackmd.io/_uploads/Hkv4sQkwZg.png" alt="creation basic" class="practice-img">
                    </div>
                    <div>
                        <p class="note-desc">模擬應用：影格序列、進度條、風險指數成長。</p>
                        <img src="https://hackmd.io/_uploads/S1T8kV1PZg.png" alt="creation app" class="practice-img">
                    </div>
                </div>
            </div>

            <div class="card note-card">
                <div class="note-header">
                    <h4><i class="fa-solid fa-code"></i> 練習 09: 隨機與 Seed</h4>
                </div>
                <p class="note-desc">設定亂數種子，模擬可重現的 AI 信心度資料。</p>
                <img src="https://hackmd.io/_uploads/HJR4SN1wWl.png" alt="random seed" class="practice-img">
                <pre><code>np.random.<span class="code-func">seed</span>(<span class="code-num">55</span>)
c = np.random.<span class="code-func">normal</span>(loc=<span class="code-num">0.8</span>, scale=<span class="code-num">0.1</span>, size=<span class="code-num">100</span>)</code></pre>
            </div>

            <div class="card note-card" style="grid-column: 1 / -1;">
                <div class="note-header">
                    <h4><i class="fa-solid fa-code"></i> 練習 10 & 11: 多維索引與 Reshape</h4>
                </div>
                <div class="grid-2-cols">
                    <div>
                        <p class="note-desc">3D Array 的索引操作與維度觀察。</p>
                        <img src="https://hackmd.io/_uploads/Hkvo9E1P-e.png" alt="3d indexing" class="practice-img">
                    </div>
                    <div>
                        <p class="note-desc">使用 Reshape 改變資料結構 (Samples, Features)。</p>
                        <img src="https://hackmd.io/_uploads/B1VzCEJvZl.png" alt="reshape" class="practice-img">
                    </div>
                </div>
            </div>

        </div>

    </main>

    <script>
        function toggleSidebar() {
            const sidebar = document.querySelector('.sidebar');
            const overlay = document.querySelector('.overlay');
            
            if (sidebar.style.left === '0px') {
                sidebar.style.left = '-280px';
                overlay.style.display = 'none';
            } else {
                sidebar.style.left = '0px';
                overlay.style.display = 'block';
            }
        }
    </script>
</body>
</html>